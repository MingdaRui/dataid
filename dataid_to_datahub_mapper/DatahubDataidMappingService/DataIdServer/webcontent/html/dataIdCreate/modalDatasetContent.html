<form name="formDataset" ng-submit="ok()" novalidate>
    <div ng-init="checked='false'"></div>
    <div class="modal-header">
        <div style="" class="row">
            <div class="col-md-8">
                <h3 class="modal-title">New Dataset</h3>
            </div>
            <div class="col-md-4">
                <div class="pull-right">
                    <div style="width: 100%;">
                        <select class="btn-success"
                                style="width: 100%;"
                                id="langSelect"
                                name="langSelect"
                                ng-model="selectedLanguage"
                                ng-options="lang.code.value as lang.lang.value for lang in languages"
                                multiselectdropdown="languages"
                                multiselectprefix="languge of literals: "
                                multiselectidtag="code"
                                multiselectfilter>

                        </select>
                    </div>
                </div>
            </div>
        </div>
        <div class="row" >
            <div class="col-md-12" style="margin-top: 8px;">
                <div class="input-group" ng-controller="PopoverCtrl">
                    <span class="input-group-addon" style="border-color: #EEEEEE; font-size:13px; padding-right: 2px;">uri: {{dataset['@id'].substring(0, dataset['@id'].indexOf('#')+1)}}</span>
                    <input type="text"
                           class="form-control parturi"
                           name="idinput"
                           id="idinput"
                           ng-disabled="edituri"
                           ng-model="halfuri"
                           dataid-model
                           ng-init="iName='idinput'"
                           parturi="dataset['@id'].substring(0, dataset['@id'].indexOf('#'))">
                    <div style="display: inline-block;"><ng-messages ng-messages-include="messagesTemplate" for="formDataset.idinput.$error"></ng-messages></div>
                    <!--uniqueuri-->
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-warning" ng-click="uriEditClik();" style="border-color: #EEEEEE; height:34px;">
                            <i class="glyphicon glyphicon-pencil"></i>
                        </button>
                    </span>
                </div>
            </div>
        </div>
    </div>
    <div style=" padding-bottom: 0;" class="modal-body">
        <div style="" class="row">
            <div class="col-md-6">
                <div class="panel panel-primary">
                    <div ng-init="clicked='on'"></div>
                    <div class="panel-heading">
                        <h1 class="panel-title">Basics</h1>
                    </div>
                    <div class="panel-body hover-link" >
                        <div ng-controller="PopoverCtrl">
                            <label style="margin-top: 10px" for="dTitle">Title</label> <span ng-show="dataset['dc:title']['@required']" style="color: red">*</span>
                            <div class="pull-right">
                                <a class="desc2" target="_blank" href='http://purl.org/dc/terms/title'> dc:title </a>
                                <span  popover-placement="bottom" class="help-button"  popover="{{dataset['dc:title']['@label']}}" >?</span>
                            </div>
                            <br>
                            <input ng-init="iName='dTitle'"
                                   style="width: 100%;"
                                   class="input"
                                   type="text"
                                   name="dTitle"
                                   id="dTitle"
                                   dirty
                                   ng-model="dataset['dc:title']"
                                   dataid-model>
                            <div style="display: inline-block;"><ng-messages ng-messages-include="messagesTemplate" for="formDataset.dTitle.$error"></ng-messages></div>
                        </div>
                        <div ng-controller="PopoverCtrl">
                            <label for="dDescription">Description</label> <span ng-show="dataset['dc:description']['@required']" style="color: red">*</span>
                            <div class="pull-right">
                                <a class="desc2" target="_blank" href='http://purl.org/dc/terms/description'> dc:description </a>
                                <span  popover-placement="bottom" class="help-button"  popover="{{dataset['dc:description']['@label']}}" >?</span>
                            </div>
                            <br>
                            <textarea ng-init="iName='dDescription'"
                                      style="width: 100%;"
                                      class="input"
                                      rows="3"
                                      name="dDescription"
                                      id="dDescription"
                                      ng-model="dataset['dc:description']"
                                      dataid-model="selectedLanguage">
                            </textarea>
                            <div style="display: inline-block;"><ng-messages ng-messages-include="messagesTemplate" for="formDataset.dDescription.$error"></ng-messages></div>
                        </div>
                        <div ng-controller="PopoverCtrl">
                            <label for="rdfsLabel">Label</label> <span ng-show="dataset['rdfs:label']['@required']" style="color: red">*</span>
                            <div class="pull-right">
                                <a class="desc2" target="_blank" href='"http://www.w3.org/2000/01/rdf-schema#label'> rdfs:label </a>
                                <span  popover-placement="bottom" class="help-button"  popover="{{dataset['rdfs:label']['@label']}}" >?</span>
                            </div>
                            <br>
                            <input ng-init="iName='rdfsLabel'"
                                   style="width: 100%;"
                                   class="input"
                                   type="text"
                                   name="rdfsLabel"
                                   id="rdfsLabel"
                                   ng-model="dataset['rdfs:label']"
                                   dataid-model="selectedLanguage">
                            <div style="display: inline-block;"><ng-messages ng-messages-include="messagesTemplate" for="formDataset.rdfsLabel.$error"></ng-messages></div>
                        </div>
                        <div ng-controller="PopoverCtrl">
                            <label for="keywords">Keywords (English)</label> <span ng-show="dataset['dcat:keyword']['@required']" style="color: red">*</span>
                            <div class="pull-right">
                                <a class="desc2" target="_blank" href='http://www.w3.org/TR/vocab-dcat/keywords'> dcat:keyword </a>
                                <span  popover-placement="bottom" class="help-button"  popover="{{dataset['dcat:keyword']['@label']}}" >?</span>
                            </div>
                            <br>
                            <div ng-init="iName='keywords'">
                                <input class="input"
                                       data-role="tagsinput"
                                       placeholder="       "
                                       type="text"
                                       id="keywords"
                                       name="keywords"
                                       style="width: 100%;"
                                       dataid-model
                                       ng-model="dataset['dcat:keyword']">
                                <div style="display: inline-block;"><ng-messages ng-messages-include="messagesTemplate" for="formDataset.keywords.$error"></ng-messages></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel panel-primary">
                    <div ng-init="clicked='on'"></div>
                    <div class="panel-heading" >
                        <h1 class="panel-title">Contact</h1>
                    </div>
                    <div class="panel-body hover-link" >
                        <div ng-controller="PopoverCtrl">
                            <label for="landingPage">Landing Page</label> <span ng-show="dataset['dcat:landingPage']['@required']" style="color: red">*</span>
                            <div class="pull-right">
                                <a class="desc2" target="_blank" href='http://www.w3.org/TR/vocab-dcat/media_type'> dcat:landingPage </a>
                                <span  popover-placement="bottom" class="help-button"  popover="{{dataset['dcat:landingPage']['@label']}}" >?</span>
                            </div>
                            <br>
                            <input style="width: 100%;"
                                   ng-init="iName='landingPage'"
                                   class="input"
                                   type="text"
                                   id="landingPage"
                                   name="landingPage"
                                   ng-model="dataset['dcat:landingPage']"
                                   dataid-model>
                            <div style="display: inline-block;"><ng-messages ng-messages-include="messagesTemplate" for="formDataset.landingPage.$error"></ng-messages></div>
                        </div>
                        <div ng-controller="PopoverCtrl">
                            <label for="agentSelect">Associated Agents</label> <span ng-show="dataset['dataid:associatedAgent']['@required']" style="color: red">*</span>
                            <div class="pull-right">
                                <a class="desc2" target="_blank" href='http://dataid.dbpedia.org/ns/core#associatedAgent'> dataid:associatedAgent </a>
                                <span  popover-placement="bottom" class="help-button"  popover="{{dataset['dataid:associatedAgent']['@label']}}" >?</span>
                            </div>
                            <br>
                            <div id="agentSelectWrapper"
                                 style="display: table;">
                                <select class="btn-success"
                                        style="display:table-cell; width: 100%;"
                                        id="agentSelect"
                                        name="agentSelect"
                                        ng-model="dataset['dataid:associatedAgent']"
                                        dataid-model
                                        ng-options="agent['@id'] as agent['dataid:agentName']['@value'] for agent in agents"
                                        multiple
                                        multiselectdropdown="agents"
                                        addfunction="openagent('Agent')"
                                        addlabel="new Agent"
                                        multiselectvalidate>

                                </select>
                            </div>
                            <div style="display: inline-block;"><ng-messages ng-messages-include="messagesTemplate" for="formDataset.agentSelect.$error"></ng-messages></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div ng-include="'licenseInclude.html'" ng-init="formVar='formDataset'"></div>
                <div class="panel panel-primary">
                    <div ng-init="clicked='on'"></div>
                    <div class="panel-heading">
                        <h1 class="panel-title">Distributions</h1>
                    </div>
                    <div class="panel-body hover-link" >
                        <div ng-controller="PopoverCtrl">
                            <label for="distSelect">Distributions & Endpoints</label> <span ng-show="dataset['dcat:distribution']['@required']" style="color: red">*</span>
                            <div class="pull-right">
                                <a class="desc2" target="_blank" href='http://www.w3.org/TR/vocab-dcat/distribution'> dcat:distribution </a>
                                <span  class="help-button" popover-placement="bottom" popover="{{dataset['dcat:distribution']['@label']}}" >?</span>
                            </div>
                            <br>
                            <div id="distSelectWrapper"
                                 style="display: table;">
                                <select  class="btn-success"
                                         style="display:table-cell; width: 100%;"
                                         id="distSelect"
                                         name="distSelect"
                                         ng-model="dataset['dcat:distribution']"
                                         dataid-model
                                         ng-options="distr['@id'] as distr['dc:title']['@value'] for distr in distributions"
                                         multiple
                                         multiselectdropdown="distributions"
                                         addfunction="checkIfLicenseSelected() && opendistr(dataset)"
                                         addlabel="new Distribution"
                                         multiselectvalidate>
                                </select>
                            </div>
                            <div style="display: inline-block;"><ng-messages ng-messages-include="messagesTemplate" for="formDataset.distSelect.$error"></ng-messages></div>
                            <br>
                        </div>
                        <div ng-controller="PopoverCtrl">
                            <label for="rootSelect">Root Resource</label>
                            <span ng-show="dataset['void:rootResource']['@required']" style="color: red">*</span>
                            <div class="pull-right">
                                <a class="desc2" target="_blank" href='http://www.w3.org/TR/void/rootResource'> void:rootResource </a>
                                <span  popover-placement="bottom" class="help-button"  popover="{{dataset['void:rootResource']['@label']}}" >?</span>
                            </div>
                            <br>
                            <div style="width: 100%;">
                                <select class="btn-success"
                                        style="width: 100%;"
                                        id="rootSelect"
                                        name="rootSelect"
                                        ng-model="dataset['void:rootResource']"
                                        dataid-model
                                        ng-options="distr for distr in dataset['dcat:distribution']['@value']"
                                        multiselectdropdown="dataset['void:rootResource']['@value']"
                                        multiselectplaceholder="select a root resource">

                                </select>
                            </div>
                            <div style="display: inline-block;"><ng-messages ng-messages-include="messagesTemplate" for="formDataset.rootSelect.$error"></ng-messages></div>
                        </div>
                    </div>
                </div>
                <div ng-show="addPropsChecked">
                    <div class="panel panel-primary">
                        <div class="panel-heading" >
                            <h1 class="panel-title">Statistics</h1>
                        </div>
                        <div class="panel-body hover-link">
                            <div ng-controller="PopoverCtrl">
                                <label for="dTriples">Triples</label> <span ng-show="dataset['void:triples']['@required']" style="color: red">*</span>
                                <div class="pull-right">
                                    <a class="desc2" target="_blank" href='http://www.w3.org/TR/void/triples'> void:triples </a>
                                    <span  popover-placement="bottom" class="help-button"  popover="{{dataset['void:triples']['@label']}}" >?</span>
                                </div>
                                <br>
                                    <input ng-init="iName='dTriples'" style="width: 100%;"
                                           class="input"
                                           type="text"
                                           id="dTriples"
                                           name="dTriples"
                                           ng-model="dataset['void:triples']"
                                           dataid-model>
                                <div style="display: inline-block;"><ng-messages ng-messages-include="messagesTemplate" for="formDataset.dTriples.$error"></ng-messages></div>
                            </div>
                            <br>
                            <div ng-controller="PopoverCtrl">
                                <label for="entries">Number of Entries</label> <span ng-show="dataset['void:entities']['@required']" style="color: red">*</span>
                                <div class="pull-right">
                                    <a class="desc2" target="_blank" href='"http://www.w3.org/TR/void/entities'> void:entities </a>
                                    <span  popover-placement="bottom" class="help-button"  popover="{{dataset['void:entities']['@label']}}" >?</span>
                                </div>
                                <br>
                                <input ng-init="iName='entries'"
                                       style="width: 100%;"
                                       class="input"
                                       type="text"
                                       id="entries"
                                       name="entries"
                                       ng-model="dataset['void:entities']"
                                       dataid-model>
                                <div style="display: inline-block;"><ng-messages ng-messages-include="messagesTemplate" for="formDataset.entries.$error"></ng-messages></div>
                            </div>
                            <br>
                            <div ng-controller="PopoverCtrl">
                                <label for="classes">Number of Classes</label> <span ng-show="dataset['void:classes']['@required']" style="color: red">*</span>
                                <div class="pull-right">
                                    <a class="desc2" target="_blank" href='"http://www.w3.org/TR/void/classes'> void:classes </a>
                                    <span  popover-placement="bottom" class="help-button"  popover="{{dataset['void:classes']['@label']}}" >?</span>
                                </div>
                                <br>
                                <input ng-init="iName='classes'"
                                       style="width: 100%;"
                                       class="input"
                                       type="text"
                                       id="classes"
                                       name="classes"
                                       ng-model="dataset['void:classes']"
                                       dataid-model>
                                <div style="display: inline-block;"><ng-messages ng-messages-include="messagesTemplate" for="formDataset.classes.$error"></ng-messages></div>
                            </div>
                            <br>
                            <div ng-controller="PopoverCtrl">
                                <label for="distinctObjects">Number of distinct Objects</label> <span ng-show="dataset['void:distinctObjects']['@required']" style="color: red">*</span>
                                <div class="pull-right">
                                    <a class="desc2" target="_blank" href='"http://www.w3.org/TR/void/distinctObjects'> void:distinctObjects </a>
                                    <span  popover-placement="bottom" class="help-button"  popover="{{dataset['void:distinctObjects']['@label']}}" >?</span>
                                </div>
                                <br>
                                <input ng-init="iName='distinctObjects'"
                                       style="width: 100%;"
                                       class="input"
                                       type="text"
                                       id="distinctObjects"
                                       name="distinctObjects"
                                       ng-model="dataset['void:distinctObjects']"
                                       dataid-model>
                                <div style="display: inline-block;"><ng-messages ng-messages-include="messagesTemplate" for="formDataset.distinctObjects.$error"></ng-messages></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <div class="pull-left">
            <input type="checkbox" ng-model="addPropsChecked"> show additional properties
        </div>
        <button class="popoverButton btn btn-primary"  >OK</button>
        <button type="button" class="btn btn-warning" ng-click="cancel()">Cancel</button>
        <!--ng-click="formDataset.$valid && ok()"-->
    </div>
</form>
<div ng-init="init()"/>